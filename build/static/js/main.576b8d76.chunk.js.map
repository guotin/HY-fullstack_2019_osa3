{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonList.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","newFilter","handleFilterChange","react_default","a","createElement","value","onChange","Person","name","number","handleDelete","id","onClick","window","confirm","concat","PersonList","persons","filter","p","toLowerCase","includes","map","person","components_Person","key","PersonForm","addPerson","newName","newNumber","handlePersonNameChange","handlePersonNumberChange","onSubmit","type","baseUrl","services_persons","axios","get","newObject","post","put","then","response","data","delete","Notification","notificationMessage","errorMessage","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","setErrorMessage","_useState11","_useState12","setNotificationMessage","useEffect","personService","updateNumber","personObject","returnedPerson","catch","error","setTimeout","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","personToUpdate","components_PersonList","personId","personName","newPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.576b8d76.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange}) => {\r\n  return (\r\n    <div>\r\n      rajaa näytettäviä: <input value={newFilter} onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ name, number, handleDelete, id }) => {\r\n\r\n  return (\r\n    <div>\r\n      <p>{name} {number}\r\n       <button onClick={() => \r\n        window.confirm(`Poistetaanko henkilö ${name}?`) ?\r\n        handleDelete(id, name) : <p></p>}>Delete</button>\r\n      </p>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PersonList = ({ newFilter, persons, handleDelete }) => {\r\n\r\n  const rows = () => persons.filter(p => p.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n    .map(person => <Person key={person.name} name={person.name} number={person.number} handleDelete={handleDelete} id={person.id} />)\r\n\r\n  return (\r\n    <div>\r\n      {rows()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonList","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, newName, newNumber, handlePersonNameChange, handlePersonNumberChange }) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        <div>nimi: <input value={newName} onChange={handlePersonNameChange} /></div>\r\n        <div>numero: <input value={newNumber} onChange={handlePersonNumberChange} /></div>\r\n        <div><button type=\"submit\">lisää</button></div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  remove: remove\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ notificationMessage, errorMessage }) => {\r\n  if (notificationMessage === null && errorMessage === null) {\r\n    return <div></div>\r\n  }\r\n  if (errorMessage !== null) {\r\n    return <div className=\"error\">{errorMessage}</div>\r\n  }\r\n  if (notificationMessage !== null) {\r\n    return <div className=\"notification\">{notificationMessage}</div>\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonList from './components/PersonList'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (!persons.find(person => person.name === newName)) {\n\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Lisättiin ${personObject.name}`)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => setErrorMessage(null), 5000)\n        })\n\n    } else {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const personToUpdate = persons.find(person => person.name === newName)\n        personToUpdate.number = newNumber\n        updateNumber(personToUpdate)\n      }\n      setNewName('')\n      setNewNumber('')\n    }\n\n    setTimeout(() => {\n      setErrorMessage(null)\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  const handlePersonNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePersonNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = (personId, personName) => {\n    personService\n      .remove(personId)\n      .then(response => {\n        const newPersons = persons.filter(p => p.id !== personId)\n        setPersons(newPersons)\n        setNotificationMessage(`${personName} poistettiin`)\n      })\n      .catch(error => {\n        setErrorMessage(`${personName} oli jo poistettu aikaisemmin`)\n      })\n\n    setTimeout(() => {\n      setErrorMessage(null)\n      setNotificationMessage(null)\n    }, 5000)\n\n  }\n\n  const updateNumber = (personObject) => {\n    personService\n      .update(personObject.id, personObject)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== personObject.id ? person : returnedPerson))\n        setNotificationMessage(`Päivitettiin numero`)\n      })\n      .catch(error => {\n        setErrorMessage('Numeron päivittäminen epäonnistui')\n      })\n\n    setTimeout(() => {\n      setErrorMessage(null)\n      setNotificationMessage(null)\n    }, 5000)\n\n  }\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification errorMessage={errorMessage} notificationMessage={notificationMessage} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>Lisää uusi</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handlePersonNameChange={handlePersonNameChange}\n        handlePersonNumberChange={handlePersonNumberChange} />\n      <h2>Numerot</h2>\n      <PersonList newFilter={newFilter} persons={persons} handleDelete={handleDelete} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App  />,document.getElementById('root'))\n"],"sourceRoot":""}